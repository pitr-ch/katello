<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Glue::Pulp::Repo::InstanceMethods
  
    &mdash; Katello
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../../';
  framesUrl = "../../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../../_index.html">Index (I)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../Glue.html" title="Glue (module)">Glue</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Pulp.html" title="Glue::Pulp (module)">Pulp</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Repo.html" title="Glue::Pulp::Repo (module)">Repo</a></span></span>
     &raquo; 
    <span class="title">InstanceMethods</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: Glue::Pulp::Repo::InstanceMethods
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">
      <a href="https://github.com/Katello/katello/tree/master/app/models/glue/pulp/repo.rb" target="_blank">
        app/models/glue/pulp/repo.rb
      </a>
    </dd>
  
</dl>
<div class="clear"></div>








  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#_get_most_recent_sync_status-instance_method" title="#_get_most_recent_sync_status (instance method)">- (Object) <strong>_get_most_recent_sync_status</strong> </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_distribution-instance_method" title="#add_distribution (instance method)">- (Object) <strong>add_distribution</strong>(distribution_id) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_errata-instance_method" title="#add_errata (instance method)">- (Object) <strong>add_errata</strong>(errata_unit_id_list) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add_packages-instance_method" title="#add_packages (instance method)">- (Object) <strong>add_packages</strong>(pkg_id_list) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#cancel_sync-instance_method" title="#cancel_sync (instance method)">- (Object) <strong>cancel_sync</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clear_contents-instance_method" title="#clear_contents (instance method)">- (Object) <strong>clear_contents</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clone_contents-instance_method" title="#clone_contents (instance method)">- (Object) <strong>clone_contents</strong>(to_repo) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create_pulp_repo-instance_method" title="#create_pulp_repo (instance method)">- (Object) <strong>create_pulp_repo</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_distribution-instance_method" title="#delete_distribution (instance method)">- (Object) <strong>delete_distribution</strong>(distribution_id) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_errata-instance_method" title="#delete_errata (instance method)">- (Object) <strong>delete_errata</strong>(errata_id_list) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_packages-instance_method" title="#delete_packages (instance method)">- (Object) <strong>delete_packages</strong>(package_id_list) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#destroy_repo-instance_method" title="#destroy_repo (instance method)">- (Object) <strong>destroy_repo</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#destroy_repo_orchestration-instance_method" title="#destroy_repo_orchestration (instance method)">- (Object) <strong>destroy_repo_orchestration</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#distributions-instance_method" title="#distributions (instance method)">- (Object) <strong>distributions</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#distributions%3D-instance_method" title="#distributions= (instance method)">- (Object) <strong>distributions=</strong>(attrs) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#errata-instance_method" title="#errata (instance method)">- (Object) <strong>errata</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#errata%3D-instance_method" title="#errata= (instance method)">- (Object) <strong>errata=</strong>(attrs) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_latest_packages_by_name-instance_method" title="#find_latest_packages_by_name (instance method)">- (Object) <strong>find_latest_packages_by_name</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_packages_by_name-instance_method" title="#find_packages_by_name (instance method)">- (Object) <strong>find_packages_by_name</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_packages_by_nvre-instance_method" title="#find_packages_by_nvre (instance method)">- (Object) <strong>find_packages_by_nvre</strong>(name, version, release, epoch) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#generate_distributor-instance_method" title="#generate_distributor (instance method)">- (Object) <strong>generate_distributor</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#generate_importer-instance_method" title="#generate_importer (instance method)">- (Object) <strong>generate_importer</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#generate_metadata-instance_method" title="#generate_metadata (instance method)">- (Object) <strong>generate_metadata</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#handle_sync_complete_task-instance_method" title="#handle_sync_complete_task (instance method)">- (Object) <strong>handle_sync_complete_task</strong>(task_id) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_distribution%3F-instance_method" title="#has_distribution? (instance method)">- (Boolean) <strong>has_distribution?</strong>(id) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_erratum%3F-instance_method" title="#has_erratum? (instance method)">- (Boolean) <strong>has_erratum?</strong>(errata_id) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_package%3F-instance_method" title="#has_package? (instance method)">- (Boolean) <strong>has_package?</strong>(id) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Object) <strong>initialize</strong>(attrs = nil, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#last_sync-instance_method" title="#last_sync (instance method)">- (Object) <strong>last_sync</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#other_repos_with_same_content-instance_method" title="#other_repos_with_same_content (instance method)">- (Object) <strong>other_repos_with_same_content</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#other_repos_with_same_product_and_content-instance_method" title="#other_repos_with_same_product_and_content (instance method)">- (Object) <strong>other_repos_with_same_product_and_content</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#package_group_categories-instance_method" title="#package_group_categories (instance method)">- (Object) <strong>package_group_categories</strong>(search_args = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#package_groups-instance_method" title="#package_groups (instance method)">- (Object) <strong>package_groups</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#package_groups%3D-instance_method" title="#package_groups= (instance method)">- (Object) <strong>package_groups=</strong>(attrs) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#package_groups_search-instance_method" title="#package_groups_search (instance method)">- (Object) <strong>package_groups_search</strong>(search_args = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#package_ids-instance_method" title="#package_ids (instance method)">- (Object) <strong>package_ids</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#package_lists_for_publish-instance_method" title="#package_lists_for_publish (instance method)">- (Object) <strong>package_lists_for_publish</strong> </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>A helper method used by purge_empty_groups_errata
to obtain a list of package filenames and names
so that it could mix/match empty package groups
and errata and purge them.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#packages-instance_method" title="#packages (instance method)">- (Object) <strong>packages</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#packages%3D-instance_method" title="#packages= (instance method)">- (Object) <strong>packages=</strong>(attrs) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#populate_from-instance_method" title="#populate_from (instance method)">- (Object) <strong>populate_from</strong>(repos_map) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#promote-instance_method" title="#promote (instance method)">- (Object) <strong>promote</strong>(from_env, to_env) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#purge_empty_groups_errata-instance_method" title="#purge_empty_groups_errata (instance method)">- (Object) <strong>purge_empty_groups_errata</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>remove errata and groups from this repo
that have no packages.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#refresh_pulp_repo-instance_method" title="#refresh_pulp_repo (instance method)">- (Object) <strong>refresh_pulp_repo</strong>(feed_ca, feed_cert, feed_key) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#save_repo_orchestration-instance_method" title="#save_repo_orchestration (instance method)">- (Object) <strong>save_repo_orchestration</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#set_sync_schedule-instance_method" title="#set_sync_schedule (instance method)">- (Object) <strong>set_sync_schedule</strong>(date_and_time) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sort_sync_status-instance_method" title="#sort_sync_status (instance method)">- (Object) <strong>sort_sync_status</strong>(statuses) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#successful_sync%3F-instance_method" title="#successful_sync? (instance method)">- (Boolean) <strong>successful_sync?</strong>(sync_history_item) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sync-instance_method" title="#sync (instance method)">- (Object) <strong>sync</strong>(options = { }) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sync_finish-instance_method" title="#sync_finish (instance method)">- (Object) <strong>sync_finish</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sync_start-instance_method" title="#sync_start (instance method)">- (Object) <strong>sync_start</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sync_state-instance_method" title="#sync_state (instance method)">- (Object) <strong>sync_state</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#sync_status-instance_method" title="#sync_status (instance method)">- (Object) <strong>sync_status</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#synced%3F-instance_method" title="#synced? (instance method)">- (Boolean) <strong>synced?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_hash-instance_method" title="#to_hash (instance method)">- (Object) <strong>to_hash</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unassociate_by_filter-instance_method" title="#unassociate_by_filter (instance method)">- (Object) <strong>unassociate_by_filter</strong>(content_type, filter_clauses) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#uri-instance_method" title="#uri (instance method)">- (Object) <strong>uri</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="_get_most_recent_sync_status-instance_method">
  
    - (<tt>Object</tt>) <strong>_get_most_recent_sync_status</strong>  <span class="extras">(protected)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 565</span>

<span class='kw'>def</span> <span class='id identifier rubyid__get_most_recent_sync_status'>_get_most_recent_sync_status</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_history'>history</span> <span class='op'>=</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_sync_status'>sync_status</span><span class='lparen'>(</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_history'>history</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_history'>history</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
      <span class='id identifier rubyid_history'>history</span> <span class='op'>=</span> <span class='const'>PulpSyncStatus</span><span class='period'>.</span><span class='id identifier rubyid_convert_history'>convert_history</span><span class='lparen'>(</span><span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_sync_history'>sync_history</span><span class='lparen'>(</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_history'>history</span> <span class='op'>=</span> <span class='const'>PulpSyncStatus</span><span class='period'>.</span><span class='id identifier rubyid_convert_history'>convert_history</span><span class='lparen'>(</span><span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_sync_history'>sync_history</span><span class='lparen'>(</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_history'>history</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_history'>history</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='kw'>return</span> <span class='op'>::</span><span class='const'>PulpSyncStatus</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:state</span> <span class='op'>=&gt;</span> <span class='op'>::</span><span class='const'>PulpSyncStatus</span><span class='op'>::</span><span class='const'>Status</span><span class='op'>::</span><span class='const'>NOT_SYNCED</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_history'>history</span> <span class='op'>=</span> <span class='id identifier rubyid_sort_sync_status'>sort_sync_status</span><span class='lparen'>(</span><span class='id identifier rubyid_history'>history</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='const'>PulpSyncStatus</span><span class='period'>.</span><span class='id identifier rubyid_pulp_task'>pulp_task</span><span class='lparen'>(</span><span class='id identifier rubyid_history'>history</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_with_indifferent_access'>with_indifferent_access</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_distribution-instance_method">
  
    - (<tt>Object</tt>) <strong>add_distribution</strong>(distribution_id) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


476
477
478
479</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 476</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_distribution'>add_distribution</span> <span class='id identifier rubyid_distribution_id'>distribution_id</span>
  <span class='id identifier rubyid_previous'>previous</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_environmental_instances'>environmental_instances</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_content_view'>content_view</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_in_environment'>in_environment</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_environment'>environment</span><span class='period'>.</span><span class='id identifier rubyid_prior'>prior</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Distribution</span><span class='period'>.</span><span class='id identifier rubyid_copy'>copy</span><span class='lparen'>(</span><span class='id identifier rubyid_previous'>previous</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='symbol'>:ids</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='id identifier rubyid_distribution_id'>distribution_id</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_errata-instance_method">
  
    - (<tt>Object</tt>) <strong>add_errata</strong>(errata_unit_id_list) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


471
472
473
474</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 471</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_errata'>add_errata</span> <span class='id identifier rubyid_errata_unit_id_list'>errata_unit_id_list</span>
  <span class='id identifier rubyid_previous'>previous</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_environmental_instances'>environmental_instances</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_content_view'>content_view</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_in_environment'>in_environment</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_environment'>environment</span><span class='period'>.</span><span class='id identifier rubyid_prior'>prior</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Errata</span><span class='period'>.</span><span class='id identifier rubyid_copy'>copy</span><span class='lparen'>(</span><span class='id identifier rubyid_previous'>previous</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='symbol'>:ids</span><span class='op'>=&gt;</span><span class='id identifier rubyid_errata_unit_id_list'>errata_unit_id_list</span><span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add_packages-instance_method">
  
    - (<tt>Object</tt>) <strong>add_packages</strong>(pkg_id_list) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


466
467
468
469</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 466</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add_packages'>add_packages</span> <span class='id identifier rubyid_pkg_id_list'>pkg_id_list</span>
  <span class='id identifier rubyid_previous'>previous</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_environmental_instances'>environmental_instances</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_content_view'>content_view</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_in_environment'>in_environment</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_environment'>environment</span><span class='period'>.</span><span class='id identifier rubyid_prior'>prior</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Rpm</span><span class='period'>.</span><span class='id identifier rubyid_copy'>copy</span><span class='lparen'>(</span><span class='id identifier rubyid_previous'>previous</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='symbol'>:ids</span><span class='op'>=&gt;</span><span class='id identifier rubyid_pkg_id_list'>pkg_id_list</span><span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="cancel_sync-instance_method">
  
    - (<tt>Object</tt>) <strong>cancel_sync</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


493
494
495
496
497
498</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 493</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cancel_sync'>cancel_sync</span>
  <span class='const'>Rails</span><span class='period'>.</span><span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_info'>info</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cancelling synchronization of repository </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_history'>history</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sync_status'>sync_status</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_history'>history</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_history'>history</span><span class='period'>.</span><span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='op'>::</span><span class='const'>PulpSyncStatus</span><span class='op'>::</span><span class='const'>Status</span><span class='op'>::</span><span class='const'>NOT_SYNCED</span>
  <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Resources</span><span class='op'>::</span><span class='const'>Task</span><span class='period'>.</span><span class='id identifier rubyid_cancel'>cancel</span><span class='lparen'>(</span><span class='id identifier rubyid_history'>history</span><span class='period'>.</span><span class='id identifier rubyid_uuid'>uuid</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="clear_contents-instance_method">
  
    - (<tt>Object</tt>) <strong>clear_contents</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


449
450
451
452</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 449</span>

<span class='kw'>def</span> <span class='id identifier rubyid_clear_contents'>clear_contents</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_clear_content_indices'>clear_content_indices</span> <span class='kw'>if</span> <span class='const'>Katello</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_use_elasticsearch'>use_elasticsearch</span>
  <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_unassociate_units'>unassociate_units</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="clone_contents-instance_method">
  
    - (<tt>Object</tt>) <strong>clone_contents</strong>(to_repo) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 420</span>

<span class='kw'>def</span> <span class='id identifier rubyid_clone_contents'>clone_contents</span> <span class='id identifier rubyid_to_repo'>to_repo</span>
  <span class='id identifier rubyid_events'>events</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='comment'># In order to reduce the memory usage of pulp during the copy process,
</span>  <span class='comment'># include the fields that will uniquely identify the rpm. If no fields
</span>  <span class='comment'># are listed, pulp will retrieve every field it knows about for the rpm
</span>  <span class='comment'># (e.g. changelog, filelist...etc).
</span>  <span class='id identifier rubyid_events'>events</span> <span class='op'>&lt;&lt;</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Rpm</span><span class='period'>.</span><span class='id identifier rubyid_copy'>copy</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='id identifier rubyid_to_repo'>to_repo</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span>
                                           <span class='lbrace'>{</span> <span class='symbol'>:fields</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>name</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>epoch</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>version</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>release</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>arch</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                                                         <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checksumtype</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checksum</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='rbrace'>}</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_events'>events</span> <span class='op'>&lt;&lt;</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Distribution</span><span class='period'>.</span><span class='id identifier rubyid_copy'>copy</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='id identifier rubyid_to_repo'>to_repo</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='rparen'>)</span>

  <span class='comment'># Since the rpms will be copied above, during the copy of errata and package groups,
</span>  <span class='comment'># include the copy_children flag to request that pulp skip copying them again.
</span>  <span class='id identifier rubyid_events'>events</span> <span class='op'>&lt;&lt;</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Errata</span><span class='period'>.</span><span class='id identifier rubyid_copy'>copy</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='id identifier rubyid_to_repo'>to_repo</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='symbol'>:copy_children</span> <span class='op'>=&gt;</span> <span class='kw'>false</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_events'>events</span> <span class='op'>&lt;&lt;</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>PackageGroup</span><span class='period'>.</span><span class='id identifier rubyid_copy'>copy</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='id identifier rubyid_to_repo'>to_repo</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='symbol'>:copy_children</span> <span class='op'>=&gt;</span> <span class='kw'>false</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_events'>events</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="create_pulp_repo-instance_method">
  
    - (<tt>Object</tt>) <strong>create_pulp_repo</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 104</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create_pulp_repo'>create_pulp_repo</span>
  <span class='comment'>#if we are in library, no need for an distributor, but need to sync
</span>  <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_environment'>environment</span><span class='period'>.</span><span class='id identifier rubyid_library?'>library?</span>
    <span class='id identifier rubyid_importer'>importer</span> <span class='op'>=</span> <span class='id identifier rubyid_generate_importer'>generate_importer</span>
  <span class='kw'>else</span>
    <span class='comment'>#if not in library, no need for sync info, but we need a distributor
</span>    <span class='id identifier rubyid_importer'>importer</span> <span class='op'>=</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>YumImporter</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_distributors'>distributors</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_generate_distributor'>generate_distributor</span><span class='rbracket'>]</span>

  <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_create_with_importer_and_distributors'>create_with_importer_and_distributors</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span>
      <span class='id identifier rubyid_importer'>importer</span><span class='comma'>,</span>
      <span class='id identifier rubyid_distributors'>distributors</span><span class='comma'>,</span>
      <span class='lbrace'>{</span><span class='symbol'>:display_name</span><span class='op'>=&gt;</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='kw'>rescue</span> <span class='const'>RestClient</span><span class='op'>::</span><span class='const'>ServiceUnavailable</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='id identifier rubyid__'>_</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pulp service unavailable during creating repository '%s', please try again later.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>%</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'>PulpErrors</span><span class='op'>::</span><span class='const'>ServiceUnavailable</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_message'>message</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_distribution-instance_method">
  
    - (<tt>Object</tt>) <strong>delete_distribution</strong>(distribution_id) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


489
490
491</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 489</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_distribution'>delete_distribution</span> <span class='id identifier rubyid_distribution_id'>distribution_id</span>
  <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Distribution</span><span class='period'>.</span><span class='id identifier rubyid_unassociate_ids_from_repo'>unassociate_ids_from_repo</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_distribution_id'>distribution_id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_errata-instance_method">
  
    - (<tt>Object</tt>) <strong>delete_errata</strong>(errata_id_list) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


485
486
487</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 485</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_errata'>delete_errata</span> <span class='id identifier rubyid_errata_id_list'>errata_id_list</span>
  <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Errata</span><span class='period'>.</span><span class='id identifier rubyid_unassociate_ids_from_repo'>unassociate_ids_from_repo</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span>  <span class='id identifier rubyid_errata_id_list'>errata_id_list</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_packages-instance_method">
  
    - (<tt>Object</tt>) <strong>delete_packages</strong>(package_id_list) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


481
482
483</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 481</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_packages'>delete_packages</span> <span class='id identifier rubyid_package_id_list'>package_id_list</span>
  <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Rpm</span><span class='period'>.</span><span class='id identifier rubyid_unassociate_unit_ids_from_repo'>unassociate_unit_ids_from_repo</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span>  <span class='id identifier rubyid_package_id_list'>package_id_list</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="destroy_repo-instance_method">
  
    - (<tt>Object</tt>) <strong>destroy_repo</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


184
185
186
187</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 184</span>

<span class='kw'>def</span> <span class='id identifier rubyid_destroy_repo'>destroy_repo</span>
  <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='rparen'>)</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="destroy_repo_orchestration-instance_method">
  
    - (<tt>Object</tt>) <strong>destroy_repo_orchestration</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


197
198
199</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 197</span>

<span class='kw'>def</span> <span class='id identifier rubyid_destroy_repo_orchestration'>destroy_repo_orchestration</span>
  <span class='id identifier rubyid_pre_queue'>pre_queue</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='symbol'>:name</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>delete pulp repo : </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>       <span class='symbol'>:priority</span> <span class='op'>=&gt;</span> <span class='int'>3</span><span class='comma'>,</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='kw'>self</span><span class='comma'>,</span> <span class='symbol'>:destroy_repo</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="distributions-instance_method">
  
    - (<tt>Object</tt>) <strong>distributions</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


279
280
281
282
283
284</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 279</span>

<span class='kw'>def</span> <span class='id identifier rubyid_distributions'>distributions</span>
  <span class='kw'>if</span> <span class='ivar'>@repo_distributions</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_distributions'>distributions</span> <span class='op'>=</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_distributions'>distributions</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@repo_distributions</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="distributions=-instance_method">
  
    - (<tt>Object</tt>) <strong>distributions=</strong>(attrs) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


286
287
288
289
290
291</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 286</span>

<span class='kw'>def</span> <span class='id identifier rubyid_distributions='>distributions=</span><span class='id identifier rubyid_attrs'>attrs</span>
  <span class='ivar'>@repo_distributions</span> <span class='op'>=</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_dist'>dist</span><span class='op'>|</span>
      <span class='op'>::</span><span class='const'>Distribution</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_dist'>dist</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@repo_distributions</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="errata-instance_method">
  
    - (<tt>Object</tt>) <strong>errata</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


258
259
260
261
262
263
264
265
266
267
268
269
270</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 258</span>

<span class='kw'>def</span> <span class='id identifier rubyid_errata'>errata</span>
  <span class='kw'>if</span> <span class='ivar'>@repo_errata</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='comment'>#we fetch ids and then fetch errata by id, because repo errata
</span>    <span class='comment'>#  do not contain all the info we need (bz 854260)
</span>    <span class='id identifier rubyid_e_ids'>e_ids</span> <span class='op'>=</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_errata_ids'>errata_ids</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_tmp_errata'>tmp_errata</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_e_ids'>e_ids</span><span class='period'>.</span><span class='id identifier rubyid_each_slice'>each_slice</span><span class='lparen'>(</span><span class='const'>Katello</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_pulp'>pulp</span><span class='period'>.</span><span class='id identifier rubyid_bulk_load_size'>bulk_load_size</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_sub_list'>sub_list</span><span class='op'>|</span>
      <span class='id identifier rubyid_tmp_errata'>tmp_errata</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Errata</span><span class='period'>.</span><span class='id identifier rubyid_find_all_by_unit_ids'>find_all_by_unit_ids</span><span class='lparen'>(</span><span class='id identifier rubyid_sub_list'>sub_list</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_errata'>errata</span> <span class='op'>=</span> <span class='id identifier rubyid_tmp_errata'>tmp_errata</span>
  <span class='kw'>end</span>
  <span class='ivar'>@repo_errata</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="errata=-instance_method">
  
    - (<tt>Object</tt>) <strong>errata=</strong>(attrs) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


272
273
274
275
276
277</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 272</span>

<span class='kw'>def</span> <span class='id identifier rubyid_errata='>errata=</span><span class='id identifier rubyid_attrs'>attrs</span>
  <span class='ivar'>@repo_errata</span> <span class='op'>=</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_erratum'>erratum</span><span class='op'>|</span>
    <span class='op'>::</span><span class='const'>Errata</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_erratum'>erratum</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@repo_errata</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_latest_packages_by_name-instance_method">
  
    - (<tt>Object</tt>) <strong>find_latest_packages_by_name</strong>(name) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


357
358
359
360</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 357</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_latest_packages_by_name'>find_latest_packages_by_name</span> <span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_packages'>packages</span> <span class='op'>=</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_rpms_by_nvre'>rpms_by_nvre</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='const'>Util</span><span class='op'>::</span><span class='const'>Package</span><span class='period'>.</span><span class='id identifier rubyid_find_latest_packages'>find_latest_packages</span><span class='lparen'>(</span><span class='id identifier rubyid_packages'>packages</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_packages_by_name-instance_method">
  
    - (<tt>Object</tt>) <strong>find_packages_by_name</strong>(name) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


349
350
351</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 349</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_packages_by_name'>find_packages_by_name</span> <span class='id identifier rubyid_name'>name</span>
  <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_rpms_by_nvre'>rpms_by_nvre</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_packages_by_nvre-instance_method">
  
    - (<tt>Object</tt>) <strong>find_packages_by_nvre</strong>(name, version, release, epoch) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


353
354
355</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 353</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_packages_by_nvre'>find_packages_by_nvre</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='comma'>,</span> <span class='id identifier rubyid_release'>release</span><span class='comma'>,</span> <span class='id identifier rubyid_epoch'>epoch</span>
  <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_rpms_by_nvre'>rpms_by_nvre</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='comma'>,</span> <span class='id identifier rubyid_release'>release</span><span class='comma'>,</span> <span class='id identifier rubyid_epoch'>epoch</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="generate_distributor-instance_method">
  
    - (<tt>Object</tt>) <strong>generate_distributor</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


142
143
144
145
146
147
148
149
150
151
152
153
154
155</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 142</span>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_distributor'>generate_distributor</span>
  <span class='kw'>case</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span>
    <span class='kw'>when</span> <span class='const'>Repository</span><span class='op'>::</span><span class='const'>YUM_TYPE</span>
      <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>YumDistributor</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_relative_path'>relative_path</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_unprotected'>unprotected</span> <span class='op'>||</span> <span class='kw'>false</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span>
              <span class='lbrace'>{</span><span class='symbol'>:protected</span><span class='op'>=&gt;</span><span class='kw'>true</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='op'>=&gt;</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span>
                  <span class='symbol'>:auto_publish</span><span class='op'>=&gt;</span><span class='kw'>true</span><span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='const'>Repository</span><span class='op'>::</span><span class='const'>FILE_TYPE</span>
      <span class='id identifier rubyid_dist'>dist</span> <span class='op'>=</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>IsoDistributor</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>true</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_dist'>dist</span><span class='period'>.</span><span class='id identifier rubyid_auto_publish'>auto_publish</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_dist'>dist</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid__'>_</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unexpected repo type %s</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>%</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="generate_importer-instance_method">
  
    - (<tt>Object</tt>) <strong>generate_importer</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 125</span>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_importer'>generate_importer</span>
  <span class='kw'>case</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span>
    <span class='kw'>when</span> <span class='const'>Repository</span><span class='op'>::</span><span class='const'>YUM_TYPE</span>
      <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>YumImporter</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:ssl_ca_cert</span><span class='op'>=&gt;</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_feed_ca'>feed_ca</span><span class='comma'>,</span>
                    <span class='symbol'>:ssl_client_cert</span><span class='op'>=&gt;</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_feed_cert'>feed_cert</span><span class='comma'>,</span>
                    <span class='symbol'>:ssl_client_key</span><span class='op'>=&gt;</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_feed_key'>feed_key</span><span class='comma'>,</span>
                    <span class='symbol'>:feed_url</span><span class='op'>=&gt;</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_feed'>feed</span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='const'>Repository</span><span class='op'>::</span><span class='const'>FILE_TYPE</span>
      <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>IsoImporter</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:ssl_ca_cert</span><span class='op'>=&gt;</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_feed_ca'>feed_ca</span><span class='comma'>,</span>
                    <span class='symbol'>:ssl_client_cert</span><span class='op'>=&gt;</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_feed_cert'>feed_cert</span><span class='comma'>,</span>
                    <span class='symbol'>:ssl_client_key</span><span class='op'>=&gt;</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_feed_key'>feed_key</span><span class='comma'>,</span>
                    <span class='symbol'>:feed_url</span><span class='op'>=&gt;</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_feed'>feed</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid__'>_</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unexpected repo type %s</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>%</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="generate_metadata-instance_method">
  
    - (<tt>Object</tt>) <strong>generate_metadata</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


530
531
532</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 530</span>

<span class='kw'>def</span> <span class='id identifier rubyid_generate_metadata'>generate_metadata</span>
  <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_publish_all'>publish_all</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="handle_sync_complete_task-instance_method">
  
    - (<tt>Object</tt>) <strong>handle_sync_complete_task</strong>(task_id) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 385</span>

<span class='kw'>def</span> <span class='id identifier rubyid_handle_sync_complete_task'>handle_sync_complete_task</span><span class='lparen'>(</span><span class='id identifier rubyid_task_id'>task_id</span><span class='rparen'>)</span>
  <span class='comment'>#pulp_task =  Runcible::Resources::Task.poll(pulp_task_id)
</span>
  <span class='comment'>#if pulp_task.nil?
</span>  <span class='comment'>#  Rails.logger.error(&quot;Sync_complete called for #{pulp_task_id}, but no task found.&quot;)
</span>  <span class='comment'>#  return
</span>  <span class='comment'>#end
</span>  <span class='comment'>#
</span>  <span class='comment'>#task = PulpTaskStatus.using_pulp_task(pulp_task)
</span>  <span class='comment'>#task.user ||= User.current
</span>  <span class='comment'>#task.organization ||= self.environment.organization
</span>  <span class='comment'>#task.save!
</span>
  <span class='id identifier rubyid_notify'>notify</span> <span class='op'>=</span> <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_parameters'>parameters</span><span class='period'>.</span><span class='id identifier rubyid_try'>try</span><span class='lparen'>(</span><span class='symbol'>:[]</span><span class='comma'>,</span> <span class='symbol'>:options</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_try'>try</span><span class='lparen'>(</span><span class='symbol'>:[]</span><span class='comma'>,</span> <span class='symbol'>:notify</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_user'>user</span> <span class='op'>=</span> <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='const'>TaskStatus</span><span class='op'>::</span><span class='const'>Status</span><span class='op'>::</span><span class='const'>FINISHED</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_user'>user</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_notify'>notify</span>
      <span class='const'>Notify</span><span class='period'>.</span><span class='id identifier rubyid_success'>success</span> <span class='id identifier rubyid__'>_</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Repository '%s' finished syncing successfully.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>%</span> <span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span><span class='comma'>,</span>
                     <span class='symbol'>:user</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='symbol'>:organization</span> <span class='op'>=&gt;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_organization'>organization</span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_state'>state</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>error</span><span class='tstring_end'>'</span></span>
    <span class='id identifier rubyid_details'>details</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_progress'>progress</span><span class='period'>.</span><span class='id identifier rubyid_error_details'>error_details</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
                <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_progress'>progress</span><span class='period'>.</span><span class='id identifier rubyid_error_details'>error_details</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_error'>error</span><span class='op'>|</span> <span class='id identifier rubyid_error'>error</span><span class='lbracket'>[</span><span class='symbol'>:error</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
              <span class='kw'>else</span>
                <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='symbol'>:errors</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:chomp</span><span class='rparen'>)</span>
              <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

    <span class='const'>Rails</span><span class='period'>.</span><span class='id identifier rubyid_logger'>logger</span><span class='period'>.</span><span class='id identifier rubyid_error'>error</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>*** Sync error: </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>  <span class='id identifier rubyid_details'>details</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_user'>user</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_notify'>notify</span>
      <span class='const'>Notify</span><span class='period'>.</span><span class='id identifier rubyid_error'>error</span> <span class='id identifier rubyid__'>_</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>There were errors syncing repository '%s'. See notices page for more details.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>%</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
                   <span class='id identifier rubyid_details'>details</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_details'>details</span><span class='comma'>,</span> <span class='symbol'>:user</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_user'>user</span><span class='comma'>,</span> <span class='symbol'>:organization</span> <span class='op'>=&gt;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_organization'>organization</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_distribution?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>has_distribution?</strong>(id) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


329
330
331
332
333
334</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 329</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_distribution?'>has_distribution?</span> <span class='id identifier rubyid_id'>id</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_distributions'>distributions</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_distro'>distro</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_distro'>distro</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span> <span class='op'>==</span> <span class='id identifier rubyid_id'>id</span>
  <span class='rbrace'>}</span>
  <span class='kw'>return</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_erratum?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>has_erratum?</strong>(errata_id) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


362
363
364
365
366
367</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 362</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_erratum?'>has_erratum?</span> <span class='id identifier rubyid_errata_id'>errata_id</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_errata'>errata</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_err'>err</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='id identifier rubyid_err'>err</span><span class='period'>.</span><span class='id identifier rubyid_errata_id'>errata_id</span> <span class='op'>==</span> <span class='id identifier rubyid_errata_id'>errata_id</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_package?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>has_package?</strong>(id) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


345
346
347</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 345</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_package?'>has_package?</span> <span class='id identifier rubyid_id'>id</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_package_ids'>package_ids</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="initialize-instance_method">
  
    - (<tt>Object</tt>) <strong>initialize</strong>(attrs = nil, options = {}) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 78</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_attrs'>attrs</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>super</span>
  <span class='kw'>elsif</span>
    <span class='id identifier rubyid_type_key'>type_key</span> <span class='op'>=</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>type</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>type</span><span class='tstring_end'>'</span></span> <span class='op'>:</span> <span class='symbol'>:type</span>
    <span class='comment'>#rename &quot;type&quot; to &quot;cp_type&quot; (activerecord and candlepin variable name conflict)
</span>    <span class='comment'>#if attrs.has_key?(type_key) &amp;&amp; !(attrs.has_key?(:cp_type) || attrs.has_key?('cp_type'))
</span>    <span class='comment'>#  attrs[:cp_type] = attrs[type_key]
</span>    <span class='comment'>#end
</span>
    <span class='id identifier rubyid_attrs_used_by_model'>attrs_used_by_model</span> <span class='op'>=</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
      <span class='op'>!</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_column_defaults'>column_defaults</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_member?'>member?</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:#{</span><span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbrace'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='kw'>true</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_attrs_used_by_model'>attrs_used_by_model</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="last_sync-instance_method">
  
    - (<tt>Object</tt>) <strong>last_sync</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


74
75
76</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 74</span>

<span class='kw'>def</span> <span class='id identifier rubyid_last_sync'>last_sync</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_importers'>importers</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>last_sync</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_importers'>importers</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="other_repos_with_same_content-instance_method">
  
    - (<tt>Object</tt>) <strong>other_repos_with_same_content</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


193
194
195</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 193</span>

<span class='kw'>def</span> <span class='id identifier rubyid_other_repos_with_same_content'>other_repos_with_same_content</span>
  <span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:content_id</span><span class='op'>=&gt;</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_content_id'>content_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pluck'>pluck</span><span class='lparen'>(</span><span class='symbol'>:pulp_id</span><span class='rparen'>)</span> <span class='op'>-</span> <span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="other_repos_with_same_product_and_content-instance_method">
  
    - (<tt>Object</tt>) <strong>other_repos_with_same_product_and_content</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


189
190
191</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 189</span>

<span class='kw'>def</span> <span class='id identifier rubyid_other_repos_with_same_product_and_content'>other_repos_with_same_product_and_content</span>
  <span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:content_id</span><span class='op'>=&gt;</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_content_id'>content_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_in_product'>in_product</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_product'>product</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_pluck'>pluck</span><span class='lparen'>(</span><span class='symbol'>:pulp_id</span><span class='rparen'>)</span> <span class='op'>-</span> <span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="package_group_categories-instance_method">
  
    - (<tt>Object</tt>) <strong>package_group_categories</strong>(search_args = {}) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


319
320
321
322
323
324
325
326
327</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 319</span>

<span class='kw'>def</span> <span class='id identifier rubyid_package_group_categories'>package_group_categories</span><span class='lparen'>(</span><span class='id identifier rubyid_search_args'>search_args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_categories'>categories</span> <span class='op'>=</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_package_categories'>package_categories</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_search_args'>search_args</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_categories'>categories</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_category_attrs'>category_attrs</span><span class='op'>|</span>
      <span class='id identifier rubyid_search_args'>search_args</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_category_attrs'>category_attrs</span><span class='lbracket'>[</span><span class='id identifier rubyid_attr'>attr</span><span class='rbracket'>]</span> <span class='op'>!=</span> <span class='id identifier rubyid_value'>value</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_categories'>categories</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="package_groups-instance_method">
  
    - (<tt>Object</tt>) <strong>package_groups</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


293
294
295
296
297
298
299</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 293</span>

<span class='kw'>def</span> <span class='id identifier rubyid_package_groups'>package_groups</span>
  <span class='kw'>if</span> <span class='ivar'>@repo_package_groups</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_groups'>groups</span> <span class='op'>=</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_package_groups'>package_groups</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_package_groups'>package_groups</span> <span class='op'>=</span> <span class='id identifier rubyid_groups'>groups</span>
  <span class='kw'>end</span>
  <span class='ivar'>@repo_package_groups</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="package_groups=-instance_method">
  
    - (<tt>Object</tt>) <strong>package_groups=</strong>(attrs) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


301
302
303
304
305
306</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 301</span>

<span class='kw'>def</span> <span class='id identifier rubyid_package_groups='>package_groups=</span><span class='id identifier rubyid_attrs'>attrs</span>
  <span class='ivar'>@repo_package_groups</span> <span class='op'>=</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_group'>group</span><span class='op'>|</span>
    <span class='op'>::</span><span class='const'>PackageGroup</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_group'>group</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@repo_package_groups</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="package_groups_search-instance_method">
  
    - (<tt>Object</tt>) <strong>package_groups_search</strong>(search_args = {}) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


308
309
310
311
312
313
314
315
316
317</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 308</span>

<span class='kw'>def</span> <span class='id identifier rubyid_package_groups_search'>package_groups_search</span><span class='lparen'>(</span><span class='id identifier rubyid_search_args'>search_args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_groups'>groups</span> <span class='op'>=</span> <span class='id identifier rubyid_package_groups'>package_groups</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_search_args'>search_args</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_groups'>groups</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_group'>group</span><span class='op'>|</span>
      <span class='id identifier rubyid_group_attrs'>group_attrs</span> <span class='op'>=</span> <span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_as_json'>as_json</span>
      <span class='id identifier rubyid_search_args'>search_args</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span><span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_attr'>attr</span><span class='comma'>,</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_group_attrs'>group_attrs</span><span class='lbracket'>[</span><span class='id identifier rubyid_attr'>attr</span><span class='rbracket'>]</span> <span class='op'>!=</span> <span class='id identifier rubyid_value'>value</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_groups'>groups</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="package_ids-instance_method">
  
    - (<tt>Object</tt>) <strong>package_ids</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


201
202
203</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 201</span>

<span class='kw'>def</span> <span class='id identifier rubyid_package_ids'>package_ids</span>
  <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_rpm_ids'>rpm_ids</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="package_lists_for_publish-instance_method">
  
    - (<tt>Object</tt>) <strong>package_lists_for_publish</strong>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>A helper method used by purge_empty_groups_errata
to obtain a list of package filenames and names
so that it could mix/match empty package groups
and errata and purge them.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


588
589
590
591
592
593
594
595
596
597
598
599
600
601
602</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 588</span>

<span class='kw'>def</span> <span class='id identifier rubyid_package_lists_for_publish'>package_lists_for_publish</span>
  <span class='id identifier rubyid_names'>names</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_filenames'>filenames</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_rpms'>rpms</span> <span class='op'>=</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_unit_search'>unit_search</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span>
                                               <span class='symbol'>:type_ids</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>rpm</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
                                               <span class='symbol'>:fields</span> <span class='op'>=&gt;</span><span class='lbrace'>{</span><span class='symbol'>:unit</span><span class='op'>=&gt;</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>filename</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_rpms'>rpms</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_rpm'>rpm</span><span class='op'>|</span>
    <span class='id identifier rubyid_filenames'>filenames</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_rpm'>rpm</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>metadata</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>filename</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_names'>names</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_rpm'>rpm</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>metadata</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='lbrace'>{</span><span class='symbol'>:names</span><span class='op'>=&gt;</span> <span class='id identifier rubyid_names'>names</span><span class='period'>.</span><span class='id identifier rubyid_to_set'>to_set</span><span class='comma'>,</span>
   <span class='symbol'>:filenames</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_filenames'>filenames</span><span class='period'>.</span><span class='id identifier rubyid_to_set'>to_set</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="packages-instance_method">
  
    - (<tt>Object</tt>) <strong>packages</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 232</span>

<span class='kw'>def</span> <span class='id identifier rubyid_packages'>packages</span>
  <span class='kw'>if</span> <span class='ivar'>@repo_packages</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='comment'>#we fetch ids and then fetch packages by id, because repo packages
</span>    <span class='comment'>#  does not contain all the info we need (bz 854260)
</span>    <span class='id identifier rubyid_tmp_packages'>tmp_packages</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_package_fields'>package_fields</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>name</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>version</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>release</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>arch</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>suffix</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>epoch</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                      <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>download_url</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checksum</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>checksumtype</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>license</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>group</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                      <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>children</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>vendor</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>filename</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>relativepath</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>requires</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                      <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>provides</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>description</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>size</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>buildhost</span><span class='tstring_end'>'</span></span><span class='comma'>,</span>
                      <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_id</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_content_type_id</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_href</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_storage_path</span><span class='tstring_end'>'</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>_type</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span>

    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_package_ids'>package_ids</span><span class='period'>.</span><span class='id identifier rubyid_each_slice'>each_slice</span><span class='lparen'>(</span><span class='const'>Katello</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_pulp'>pulp</span><span class='period'>.</span><span class='id identifier rubyid_bulk_load_size'>bulk_load_size</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_sub_list'>sub_list</span><span class='op'>|</span>
      <span class='id identifier rubyid_tmp_packages'>tmp_packages</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Rpm</span><span class='period'>.</span><span class='id identifier rubyid_find_all_by_unit_ids'>find_all_by_unit_ids</span><span class='lparen'>(</span><span class='id identifier rubyid_sub_list'>sub_list</span><span class='comma'>,</span> <span class='id identifier rubyid_package_fields'>package_fields</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_packages'>packages</span> <span class='op'>=</span> <span class='id identifier rubyid_tmp_packages'>tmp_packages</span>
  <span class='kw'>end</span>
  <span class='ivar'>@repo_packages</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="packages=-instance_method">
  
    - (<tt>Object</tt>) <strong>packages=</strong>(attrs) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


251
252
253
254
255
256</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 251</span>

<span class='kw'>def</span> <span class='id identifier rubyid_packages='>packages=</span><span class='id identifier rubyid_attrs'>attrs</span>
  <span class='ivar'>@repo_packages</span> <span class='op'>=</span> <span class='id identifier rubyid_attrs'>attrs</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_package'>package</span><span class='op'>|</span>
    <span class='op'>::</span><span class='const'>Package</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_package'>package</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@repo_packages</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="populate_from-instance_method">
  
    - (<tt>Object</tt>) <strong>populate_from</strong>(repos_map) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


178
179
180
181
182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 178</span>

<span class='kw'>def</span> <span class='id identifier rubyid_populate_from'>populate_from</span> <span class='id identifier rubyid_repos_map'>repos_map</span>
  <span class='id identifier rubyid_found'>found</span> <span class='op'>=</span> <span class='id identifier rubyid_repos_map'>repos_map</span><span class='lbracket'>[</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_prepopulate'>prepopulate</span><span class='lparen'>(</span><span class='id identifier rubyid_found'>found</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_found'>found</span>
  <span class='op'>!</span><span class='id identifier rubyid_found'>found</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="promote-instance_method">
  
    - (<tt>Object</tt>) <strong>promote</strong>(from_env, to_env) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


165
166
167
168
169
170
171
172
173
174
175
176</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 165</span>

<span class='kw'>def</span> <span class='id identifier rubyid_promote'>promote</span> <span class='id identifier rubyid_from_env'>from_env</span><span class='comma'>,</span> <span class='id identifier rubyid_to_env'>to_env</span>
  <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_is_cloned_in?'>is_cloned_in?</span><span class='lparen'>(</span><span class='id identifier rubyid_to_env'>to_env</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_clone_contents'>clone_contents</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_clone'>get_clone</span><span class='lparen'>(</span><span class='id identifier rubyid_to_env'>to_env</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_clone'>clone</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_create_clone'>create_clone</span><span class='lparen'>(</span><span class='id identifier rubyid_to_env'>to_env</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_clone_events'>clone_events</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_clone_contents'>clone_contents</span><span class='lparen'>(</span><span class='id identifier rubyid_clone'>clone</span><span class='rparen'>)</span> <span class='comment'>#return clone task
</span>    <span class='comment'>#TODO ensure that clone content is indexed
</span>    <span class='comment'>#clone.index_packages
</span>    <span class='comment'>#clone.index_errata
</span>    <span class='kw'>return</span> <span class='id identifier rubyid_clone_events'>clone_events</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="purge_empty_groups_errata-instance_method">
  
    - (<tt>Object</tt>) <strong>purge_empty_groups_errata</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>remove errata and groups from this repo
that have no packages</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 207</span>

<span class='kw'>def</span> <span class='id identifier rubyid_purge_empty_groups_errata'>purge_empty_groups_errata</span>
  <span class='id identifier rubyid_package_lists'>package_lists</span> <span class='op'>=</span> <span class='id identifier rubyid_package_lists_for_publish'>package_lists_for_publish</span>
  <span class='id identifier rubyid_rpm_names'>rpm_names</span> <span class='op'>=</span> <span class='id identifier rubyid_package_lists'>package_lists</span><span class='lbracket'>[</span><span class='symbol'>:names</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_filenames'>filenames</span> <span class='op'>=</span> <span class='id identifier rubyid_package_lists'>package_lists</span><span class='lbracket'>[</span><span class='symbol'>:filenames</span><span class='rbracket'>]</span>

  <span class='comment'># Remove all errata with no packages
</span>  <span class='id identifier rubyid_errata_to_delete'>errata_to_delete</span> <span class='op'>=</span> <span class='id identifier rubyid_errata'>errata</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_erratum'>erratum</span><span class='op'>|</span>
    <span class='id identifier rubyid_erratum'>erratum</span><span class='period'>.</span><span class='id identifier rubyid_errata_id'>errata_id</span> <span class='kw'>if</span> <span class='id identifier rubyid_filenames'>filenames</span><span class='period'>.</span><span class='id identifier rubyid_intersection'>intersection</span><span class='lparen'>(</span><span class='id identifier rubyid_erratum'>erratum</span><span class='period'>.</span><span class='id identifier rubyid_package_filenames'>package_filenames</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>

  <span class='comment'>#do the errata remove call
</span>  <span class='kw'>unless</span> <span class='id identifier rubyid_errata_to_delete'>errata_to_delete</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_unassociate_by_filter'>unassociate_by_filter</span><span class='lparen'>(</span><span class='const'>FilterRule</span><span class='op'>::</span><span class='const'>ERRATA</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$in</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_errata_to_delete'>errata_to_delete</span><span class='rbrace'>}</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Remove all  package groups with no packages
</span>  <span class='id identifier rubyid_package_groups_to_delete'>package_groups_to_delete</span> <span class='op'>=</span> <span class='id identifier rubyid_package_groups'>package_groups</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_group'>group</span><span class='op'>|</span>
    <span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_package_group_id'>package_group_id</span> <span class='kw'>if</span> <span class='id identifier rubyid_rpm_names'>rpm_names</span><span class='period'>.</span><span class='id identifier rubyid_intersection'>intersection</span><span class='lparen'>(</span><span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_package_names'>package_names</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_package_groups_to_delete'>package_groups_to_delete</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_unassociate_by_filter'>unassociate_by_filter</span><span class='lparen'>(</span><span class='const'>FilterRule</span><span class='op'>::</span><span class='const'>PACKAGE_GROUP</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$in</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_package_groups_to_delete'>package_groups_to_delete</span><span class='rbrace'>}</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="refresh_pulp_repo-instance_method">
  
    - (<tt>Object</tt>) <strong>refresh_pulp_repo</strong>(feed_ca, feed_cert, feed_key) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


157
158
159
160
161
162
163</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 157</span>

<span class='kw'>def</span> <span class='id identifier rubyid_refresh_pulp_repo'>refresh_pulp_repo</span><span class='lparen'>(</span><span class='id identifier rubyid_feed_ca'>feed_ca</span><span class='comma'>,</span> <span class='id identifier rubyid_feed_cert'>feed_cert</span><span class='comma'>,</span> <span class='id identifier rubyid_feed_key'>feed_key</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_feed_ca'>feed_ca</span> <span class='op'>=</span> <span class='id identifier rubyid_feed_ca'>feed_ca</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_feed_cert'>feed_cert</span> <span class='op'>=</span> <span class='id identifier rubyid_feed_cert'>feed_cert</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_feed_key'>feed_key</span> <span class='op'>=</span> <span class='id identifier rubyid_feed_key'>feed_key</span>
  <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_update_importer'>update_importer</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_importers'>importers</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>id</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_generate_importer'>generate_importer</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='rparen'>)</span>
  <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_update_distributor'>update_distributor</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_distributors'>distributors</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>id</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_generate_distributor'>generate_distributor</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="save_repo_orchestration-instance_method">
  
    - (<tt>Object</tt>) <strong>save_repo_orchestration</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


67
68
69
70
71
72</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 67</span>

<span class='kw'>def</span> <span class='id identifier rubyid_save_repo_orchestration'>save_repo_orchestration</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_orchestration_for'>orchestration_for</span>
    <span class='kw'>when</span> <span class='symbol'>:create</span>
      <span class='id identifier rubyid_pre_queue'>pre_queue</span><span class='period'>.</span><span class='id identifier rubyid_create'>create</span><span class='lparen'>(</span><span class='symbol'>:name</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>create pulp repo: </span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:priority</span> <span class='op'>=&gt;</span> <span class='int'>2</span><span class='comma'>,</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='kw'>self</span><span class='comma'>,</span> <span class='symbol'>:create_pulp_repo</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="set_sync_schedule-instance_method">
  
    - (<tt>Object</tt>) <strong>set_sync_schedule</strong>(date_and_time) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


336
337
338
339
340
341
342
343</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 336</span>

<span class='kw'>def</span> <span class='id identifier rubyid_set_sync_schedule'>set_sync_schedule</span><span class='lparen'>(</span><span class='id identifier rubyid_date_and_time'>date_and_time</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>YumImporter</span><span class='op'>::</span><span class='const'>ID</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_date_and_time'>date_and_time</span>
      <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_create_or_update_schedule'>create_or_update_schedule</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_date_and_time'>date_and_time</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_remove_schedules'>remove_schedules</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sort_sync_status-instance_method">
  
    - (<tt>Object</tt>) <strong>sort_sync_status</strong>(statuses) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 534</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sort_sync_status'>sort_sync_status</span> <span class='id identifier rubyid_statuses'>statuses</span>
  <span class='id identifier rubyid_statuses'>statuses</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>finish_time</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_b'>b</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>finish_time</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>start_time</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='int'>1</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_b'>b</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>start_time</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='op'>-</span><span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>start_time</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_b'>b</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>start_time</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span>
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>finish_time</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>start_time</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='op'>-</span><span class='int'>1</span>
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_b'>b</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>finish_time</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_b'>b</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>start_time</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
        <span class='op'>-</span><span class='int'>1</span>
      <span class='kw'>else</span>
        <span class='int'>1</span>
      <span class='kw'>end</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_b'>b</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>finish_time</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>finish_time</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='rbrace'>}</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_statuses'>statuses</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="successful_sync?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>successful_sync?</strong>(sync_history_item) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


526
527
528</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 526</span>

<span class='kw'>def</span> <span class='id identifier rubyid_successful_sync?'>successful_sync?</span><span class='lparen'>(</span><span class='id identifier rubyid_sync_history_item'>sync_history_item</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_sync_history_item'>sync_history_item</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>state</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='op'>::</span><span class='const'>PulpTaskStatus</span><span class='op'>::</span><span class='const'>Status</span><span class='op'>::</span><span class='const'>FINISHED</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sync-instance_method">
  
    - (<tt>Object</tt>) <strong>sync</strong>(options = { }) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


369
370
371
372
373
374
375
376
377
378
379
380
381
382
383</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 369</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sync'>sync</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_sync_options'>sync_options</span><span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_sync_options'>sync_options</span><span class='lbracket'>[</span><span class='symbol'>:max_speed</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'>Katello</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_pulp'>pulp</span><span class='period'>.</span><span class='id identifier rubyid_sync_KBlimit'>sync_KBlimit</span> <span class='kw'>if</span> <span class='const'>Katello</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_pulp'>pulp</span><span class='period'>.</span><span class='id identifier rubyid_sync_KBlimit'>sync_KBlimit</span> <span class='comment'># set bandwidth limit
</span>  <span class='id identifier rubyid_sync_options'>sync_options</span><span class='lbracket'>[</span><span class='symbol'>:num_threads</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='const'>Katello</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_pulp'>pulp</span><span class='period'>.</span><span class='id identifier rubyid_sync_threads'>sync_threads</span> <span class='kw'>if</span> <span class='const'>Katello</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_pulp'>pulp</span><span class='period'>.</span><span class='id identifier rubyid_sync_threads'>sync_threads</span> <span class='comment'># set threads per sync
</span>  <span class='id identifier rubyid_pulp_tasks'>pulp_tasks</span> <span class='op'>=</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Repository</span><span class='period'>.</span><span class='id identifier rubyid_sync'>sync</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='symbol'>:override_config</span><span class='op'>=&gt;</span><span class='id identifier rubyid_sync_options'>sync_options</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pulp_task'>pulp_task</span> <span class='op'>=</span> <span class='id identifier rubyid_pulp_tasks'>pulp_tasks</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>tags</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pulp:action:sync</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_with_indifferent_access'>with_indifferent_access</span>

  <span class='id identifier rubyid_task'>task</span>      <span class='op'>=</span> <span class='const'>PulpSyncStatus</span><span class='period'>.</span><span class='id identifier rubyid_using_pulp_task'>using_pulp_task</span><span class='lparen'>(</span><span class='id identifier rubyid_pulp_task'>pulp_task</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_t'>t</span><span class='op'>|</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_organization'>organization</span>         <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_environment'>environment</span><span class='period'>.</span><span class='id identifier rubyid_organization'>organization</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_parameters'>parameters</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='id identifier rubyid_t'>t</span><span class='period'>.</span><span class='id identifier rubyid_parameters'>parameters</span><span class='lbracket'>[</span><span class='symbol'>:options</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_task'>task</span><span class='period'>.</span><span class='id identifier rubyid_save!'>save!</span>
  <span class='kw'>return</span> <span class='lbracket'>[</span><span class='id identifier rubyid_task'>task</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sync_finish-instance_method">
  
    - (<tt>Object</tt>) <strong>sync_finish</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


500
501
502
503
504
505
506
507
508
509</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 500</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sync_finish'>sync_finish</span>
  <span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sync_status'>sync_status</span>
  <span class='id identifier rubyid_retval'>retval</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_status'>status</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_status'>status</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>progress</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>finish_time</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_retval'>retval</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_retval'>retval</span> <span class='op'>=</span> <span class='id identifier rubyid_status'>status</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>progress</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>finish_time</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_retval'>retval</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sync_start-instance_method">
  
    - (<tt>Object</tt>) <strong>sync_start</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


454
455
456
457
458
459
460
461
462
463
464</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 454</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sync_start'>sync_start</span>
  <span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sync_status'>sync_status</span>
  <span class='id identifier rubyid_retval'>retval</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_status'>status</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>or</span> <span class='id identifier rubyid_status'>status</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>progress</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>start_time</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_retval'>retval</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_retval'>retval</span> <span class='op'>=</span> <span class='id identifier rubyid_status'>status</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>progress</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>start_time</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span>
    <span class='comment'># retval = date.strftime(&quot;%H:%M:%S %Y-%m-%d&quot;)
</span>  <span class='kw'>end</span>
  <span class='id identifier rubyid_retval'>retval</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sync_state-instance_method">
  
    - (<tt>Object</tt>) <strong>sync_state</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


515
516
517
518
519</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 515</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sync_state'>sync_state</span>
  <span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='id identifier rubyid_sync_status'>sync_status</span>
  <span class='kw'>return</span> <span class='op'>::</span><span class='const'>PulpSyncStatus</span><span class='op'>::</span><span class='const'>Status</span><span class='op'>::</span><span class='const'>NOT_SYNCED</span> <span class='kw'>if</span> <span class='id identifier rubyid_status'>status</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
  <span class='id identifier rubyid_status'>status</span><span class='period'>.</span><span class='id identifier rubyid_state'>state</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="sync_status-instance_method">
  
    - (<tt>Object</tt>) <strong>sync_status</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


511
512
513</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 511</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sync_status'>sync_status</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid__get_most_recent_sync_status'>_get_most_recent_sync_status</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='ivar'>@sync_status</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="synced?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>synced?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


521
522
523
524</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 521</span>

<span class='kw'>def</span> <span class='id identifier rubyid_synced?'>synced?</span>
  <span class='id identifier rubyid_sync_history'>sync_history</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_sync_status'>sync_status</span>
  <span class='op'>!</span><span class='id identifier rubyid_sync_history'>sync_history</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_successful_sync?'>successful_sync?</span><span class='lparen'>(</span><span class='id identifier rubyid_sync_history'>sync_history</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_hash-instance_method">
  
    - (<tt>Object</tt>) <strong>to_hash</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


100
101
102</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 100</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_hash'>to_hash</span>
  <span class='id identifier rubyid_pulp_repo_facts'>pulp_repo_facts</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_as_json'>as_json</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='symbol'>:sync_state</span><span class='op'>=&gt;</span> <span class='id identifier rubyid_sync_state'>sync_state</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unassociate_by_filter-instance_method">
  
    - (<tt>Object</tt>) <strong>unassociate_by_filter</strong>(content_type, filter_clauses) 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


439
440
441
442
443
444
445
446
447</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 439</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unassociate_by_filter'>unassociate_by_filter</span><span class='lparen'>(</span><span class='id identifier rubyid_content_type'>content_type</span><span class='comma'>,</span> <span class='id identifier rubyid_filter_clauses'>filter_clauses</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_content_unit'>content_unit</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Rpm</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='op'>=&gt;</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Rpm</span><span class='comma'>,</span>
    <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Errata</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='op'>=&gt;</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Errata</span><span class='comma'>,</span>
    <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>PackageGroup</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='op'>=&gt;</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>PackageGroup</span><span class='comma'>,</span>
    <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Distribution</span><span class='period'>.</span><span class='id identifier rubyid_content_type'>content_type</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='op'>=&gt;</span> <span class='const'>Runcible</span><span class='op'>::</span><span class='const'>Extensions</span><span class='op'>::</span><span class='const'>Distribution</span>
  <span class='rbrace'>}</span>
  <span class='id identifier rubyid_content_unit'>content_unit</span><span class='lbracket'>[</span><span class='id identifier rubyid_content_type'>content_type</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_unassociate_from_repo'>unassociate_from_repo</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_pulp_id'>pulp_id</span><span class='comma'>,</span> <span class='symbol'>:unit</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_filter_clauses'>filter_clauses</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="uri-instance_method">
  
    - (<tt>Object</tt>) <strong>uri</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


95
96
97
98</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/models/glue/pulp/repo.rb', line 95</span>

<span class='kw'>def</span> <span class='id identifier rubyid_uri'>uri</span>
  <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='const'>Katello</span><span class='period'>.</span><span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_pulp'>pulp</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span><span class='rparen'>)</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>https://</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span><span class='rbrace'>}</span><span class='tstring_content'>/pulp/repos/</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_relative_path'>relative_path</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Thu Jun  6 11:24:15 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.6.1 (ruby-1.9.3).
</div>

  </body>
</html>